<section class="bg-white dark:bg-hacking-slate-darker py-16">
  <div class="container mx-auto px-4">
    <h2 class="text-3xl font-bold mb-8 text-hacking-violet dark:text-hacking-violet-lighter text-center">Recent Posts</h2>
    {{ $posts := where .Site.RegularPages "Section" "posts" }}
    {{ $postCount := len $posts }}
    <div class="grid grid-cols-1 md:grid-cols-2 {{ if ge $postCount 8 }}lg:grid-cols-4{{ else if ge $postCount 4 }}lg:grid-cols-4{{ else }}lg:grid-cols-3{{ end }} gap-8">
      {{ range first (cond (ge $postCount 8) 8 (cond (ge $postCount 4) 4 3)) $posts }}
        {{ partial "components/post-card.html" . }}
      {{ end }}
    </div>
  </div>
</section>
